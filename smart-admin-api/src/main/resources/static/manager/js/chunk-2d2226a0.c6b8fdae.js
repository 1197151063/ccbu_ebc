(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-2d2226a0"],{cf07:function(e,t,a){"use strict";a.r(t);var r=(a("96cf"),a("1da1")),n=a("1e04"),i=function(e){return Object(n.c)("/heartBeat/query",e)},s={name:"HeartBeatList",components:{},props:{},data:function(){return{searchFrom:{pageSize:10,pageNum:1},tableLoading:!1,pageTotal:1,tableData:[],columns:[{title:"Id",key:"id",width:100},{title:"路径",key:"projectPath"},{title:"进程号",key:"processNo"},{title:"服务器ip",key:"serverIp"},{title:"进程启动时间",key:"processStartTime"},{title:"心跳时间 ",key:"heartBeatTime"}]}},mounted:function(){this.queryHeartBeatRecord()},methods:{queryHeartBeatRecord:function(){var e=Object(r.a)(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.tableLoading=!0,e.next=4,i(this.searchFrom);case 4:t=e.sent,this.tableData=t.data.list,this.pageTotal=t.data.total,this.tableLoading=!1,e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),this.tableLoading=!1;case 14:case"end":return e.stop()}},e,this,[[0,10]])}));return function(){return e.apply(this,arguments)}}(),changePage:function(e){this.searchFrom.pageNum=e,this.queryHeartBeatRecord()},changePageSize:function(e){this.searchFrom.pageNum=1,this.searchFrom.pageSize=e,this.queryHeartBeatRecord()}}},o=a("2877"),c=Object(o.a)(s,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Card",{staticClass:"warp-card",attrs:{"dis-hover":""}},[a("Form",{staticClass:"tools",attrs:{inline:""}},[a("FormItem",[a("Button",{directives:[{name:"privilege",rawName:"v-privilege",value:"heart-beat-query",expression:"'heart-beat-query'"}],attrs:{icon:"md-refresh",type:"primary"},on:{click:e.queryHeartBeatRecord}},[e._v("刷新")])],1)],1),a("Alert",[a("h3",[e._v("Smart-Heart-Beat 心跳服务介绍：")]),a("pre",[e._v("简介：Smart-Heart-Beat 是心跳服务，用于监测Java应用的状态等其他信息。\n\n原理：\n- Java后端会在项目启动的时候开启一个线程，每隔一段时间将该应用的IP、进程号更新到数据库t_heart_beat_record表中。\n用途：\n· 在各个环境（无论开发、测试、生产）能统一看到所有启动的服务列表。\n· 检测Java应用是否存活。\n· ※强烈推荐※ 当某些业务只允许有一个服务启动的时候，用于排查是否别人也启动的服务！！\n      ")])]),a("Table",{attrs:{columns:e.columns,data:e.tableData,loading:e.tableLoading,border:""}}),a("Page",{staticStyle:{margin:"24px 0","text-align":"right"},attrs:{current:e.searchFrom.pageNum,"page-size":e.searchFrom.pageSize,"show-sizer":!0,"show-total":!0,total:e.pageTotal},on:{"on-change":e.changePage,"on-page-size-change":e.changePageSize}})],1)},[],!1,null,null,null);t.default=c.exports}}]);